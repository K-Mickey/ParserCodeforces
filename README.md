# ParserCodeforces

## Условия проекта
### Проблематика

1. На сайте codeforces есть [большая подборка задач](https://codeforces.com/problemset?order=BY_SOLVED_DESC)
2. Нужно написать парсер задач и их свойств:
    1. Темы (”математика”, “перебор”, “графы” …)
    2. Количество решений задач
    3. Название + номер
    4. Сложность задачи (800 / 900 …. и тд)
3. Сохранить их в БД и дополнять, в случае если этой задачи нет - то добавлять. Настроить парсинг страниц codeforces периодичностью 1 час

Теперь главный алгоритм:

1. Требуется для определенной сложности + тематики уметь получать подборку из 10 задач, которые преимущественно мы заранее распределим по контестам (набор задач)
2. Цель распределить так, чтобы не было пересечений, то есть выбрали мы тему сортировки - на нее выдается нам 10 задач, при этом они принадлежат только этому контесту (никакому более)

### **Как просматривать данные?**

1. Все это должно храниться в postgresql БД
2. Телеграмм бот с возможностью выбрать сложность + тему - и на нее отобразятся подборка задач
3. Поиск по задаче - выдать всю инфу, что мы знаем про задачу
## Реализация
  Проект состоит из 3-х частей: парсер, бот и файл для работы с PostgreSQL.
  
Парсер находится в файле ParserCodeforces.py. Условия его работы соответствуют условиям. Для запуска парсера необходимо запустить данный файл, а также указать данные для запуска БД в ConnectDB.
С сайта собираются такие данные: как название и номер задачи, сложность, категория и ссылка на данную задачу(для формирования активных инлайн кнопок в боте).

Бот находится в файле Bot.py. Для запуска бота необходимо запустить данный файл. Выбор сета задач реализован с помощью инлайн клавиатур. Поиск задач реализован с помощью обычной клавиатуры и поддерживается поиск по названию, категории и сложности задачи. Название можно указывать не с полной точностью, опуская часть начала или конца слова. Так как возникли трудности с определением порядка отбора уникального контеста, то этот пункт трактовал по своему, а именно из определенной сложности и категории можно выбирать наборы по 10 задач. Реализацию полноценного контеста легко встроить на основе еще одной таблицы БД.

В файле ConnectDB находятся объекты для работы с PostgreSQL. В классе, работающем с БД, реализован singleton. Сама БД реализована реляционной в 3-х таблицах: основная с информацией о задаче, с категориями, и с взаимосвязью между категориями и задачами.
